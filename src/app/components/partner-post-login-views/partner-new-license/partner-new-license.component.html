<!-- <div class="mat-elevation-z8"> -->
    <div class="">    
        <mat-card class="no-card-shadow">
            <mat-card-header [class]="'mat-card-headers mb-2'">
                <mat-card-title>
                    New License
                    <div class="title-underline"></div>                
                </mat-card-title>
                <!-- <div>                     
                    <button mat-raised-button class="toolbar-button" matTooltip="Add New Item" (click)="viewCustomers()">
                        <mat-icon>group</mat-icon> All Customers
                    </button>                    
                </div>  -->
            </mat-card-header> 
    
            <mat-card-content *ngIf="isFormLoaded">
                <form  [formGroup]="licenseForm">
                    <ng-container [ngSwitch]="data.action">
                        <ng-container *ngSwitchCase="'new_online'">
                            <div [fxLayout]="(isHandset$ | async) ? 'column' : 'row'" fxflexfill fxLayoutAlign="start">
                                <mat-form-field appearance="outline" class="innov-matFormField mr-1"  [fxFlex]="80">
                                    <mat-label>Product Key</mat-label>
                                    <mat-select formControlName="productKey" name="productKey" (selectionChange)="onProductKeyChange()">
                                      <mat-option *ngFor="let product of availableOnlineProducts" [value]="product.value">
                                        {{product.label}}
                                      </mat-option>
                                    </mat-select>
                                </mat-form-field>  
                                <mat-form-field appearance="outline"
                                    [class]="'innov-matFormField ml-1'"
                                    [fxFlex]="20">
                                    <mat-label>Company Id</mat-label>
                                    <input matInput placeholder="Enter Company Id" #companyId name="companyId"
                                        id="companyId" formControlName="companyId">
                                </mat-form-field>  
                            </div>        
                        </ng-container>
                        <ng-container *ngSwitchCase="'new_offline'">
                            <div [fxLayout]="(isHandset$ | async) ? 'column' : 'row'" fxflexfill fxLayoutAlign="start">
                                <mat-form-field appearance="outline" class="innov-matFormField mr-1"  [fxFlex]="100">
                                    <mat-label>Product Key</mat-label>
                                    <mat-select formControlName="productKey" name="productKey" (selectionChange)="onProductKeyChange()">
                                      <mat-option *ngFor="let product of availableProducts" [value]="product.name">
                                        {{product.name}}
                                      </mat-option>
                                    </mat-select>
                                </mat-form-field>    
                            </div>        
                        </ng-container>
                    </ng-container>
                    
                    <div [fxLayout]="'row'" fxflexfill fxLayoutAlign="end" *ngIf="selectedProductRate">
                        <mat-chip>The selected product price is : Rs. {{selectedProductRate | number : '1.2-2'}}</mat-chip>                        
                    </div>

                    <div [fxLayout]="(isHandset$ | async) ? 'column' : 'row'" fxflexfill fxLayoutAlign="end" class="mt-2">
                        <div>
                            <button mat-raised-button class="button-group" [fxFlex]="50" (click)="cancelLicenseGeneration()">
                                Cancel
                            </button>
                            <button mat-raised-button class="button-group"  color="primary" [fxFlex]="50" (click)="generateLicense()">
                                Generate
                            </button>
                        </div>
                    </div>


                </form>
            </mat-card-content>
        </mat-card>
    </div>
    